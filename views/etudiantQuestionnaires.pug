doctype html
html(lang="fr")
  include includes/head.pug
  body
    +navbar("SGA – Mes questionnaires", user)

    .container.mt-5
      h1.mb-4 Mes questionnaires

      if !groupQuestionnaires || Object.keys(groupQuestionnaires).length === 0
        .alert.alert-info Aucun questionnaire disponible pour vos cours.
      else
        each gid in Object.keys(groupQuestionnaires)
          .card.mb-3
            .card-header
              strong Cours : #{gid}
            .card-body
              - const qns = groupQuestionnaires[gid] || []
              if qns.length === 0
                p.text-muted Aucun questionnaire pour ce cours.
              else
                ul.list-group
                  each qn in qns
                    li.list-group-item.d-flex.justify-content-between.align-items-center
                      span
                        strong= qn.nom
                        if qn.description
                          br
                          small.text-muted= qn.description
                      .btn-group
                        a.btn.btn-primary.btn-sm(href=`/cours/${gid}/questionnaires/${encodeURIComponent(qn.nom)}`) Ouvrir
                        if qn.actif
                          span.badge.bg-success.ms-2 Actif
                        else
                          span.badge.bg-secondary.ms-2 Inactif

    a.btn.btn-secondary.mt-4(href="/") ← Retour