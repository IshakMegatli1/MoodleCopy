html
  include includes/head.pug
  body
    +navbar("SGA â€“ Questions du cours", user)

    .container.mt-5
      .text-center.mb-4
        h1.mb-2 Gestion des questions
        h4.text-muted Cours : #{group_id}

      if questions && questions.length
        ul.list-group.mb-4
          each q in questions
            li.list-group-item
              h5.mb-1= q.titre
              p.mb-1 #{q.description}
              // Bouton supprimer
              form.d-inline(
                method="post"
                action=`/cours/${group_id}/questions/delete`
                onsubmit=`return confirm('Supprimer la question "${q.titre}" ?');`
              )
                input(type="hidden" name="titre" value=q.titre)
                button.btn.btn-sm.btn-danger(type="submit") Supprimer
              p.mb-1
                strong VÃ©ritÃ© :
                |  #{q.reponse ? 'Vrai' : 'Faux'}
              hr.my-2
              p.mb-1
                strong RÃ©troaction (bonne rÃ©ponse) :
                |  #{q.texteVrai}
              p.mb-1
                strong RÃ©troaction (mauvaise rÃ©ponse) :
                |  #{q.texteFaux}
              p.mb-0
                strong CatÃ©gorie :
                span.badge.bg-info.ms-1 #{q.categorie}

      else
        p.text-muted.mb-4 Aucune question pour ce cours.

      // ---- Boutons d'action ----
      .d-flex.justify-content-center.gap-3.mt-4
        a.btn.btn-secondary(href="/mesCours") â¬…ï¸ Page prÃ©cÃ©dente
        a.btn.btn-primary(href=`/cours/${group_id}/questions/add`) âž• Ajouter question
        //- a.btn.btn-danger(href=`/cours/${group_id}/questions/delete`) ðŸ—‘ï¸ Supprimer question

// --- Toast de confirmation / erreur ---
if message
  div#toast-message.alert.alert-success(style="position:fixed;bottom:1rem;right:1rem;z-index:1050;padding:1rem 1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.2);")
    strong âœ… #{message}
if error
  div#toast-message.alert.alert-danger(style="position:fixed;bottom:1rem;right:1rem;z-index:1050;padding:1rem 1.5rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.2);")
    strong âŒ #{error}

script.
  setTimeout(() => {
    const el = document.getElementById('toast-message');
    if (el) el.remove();
  }, 4000);



